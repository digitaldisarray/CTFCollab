import{a as l,t as c}from"../chunks/CoWB_c7W.js";import"../chunks/GU8K1UcO.js";import{u as y,V as C,W as w,P as U,O as $,w as R,D as s,S as p,R as h,Q as T,U as L,T as P}from"../chunks/Cgeft74Y.js";import{i as F,s as S,a as j}from"../chunks/tsR4g0rO.js";import{s as k}from"../chunks/HeQKgpHt.js";import{i as E}from"../chunks/C-KXs9MO.js";import{p as I}from"../chunks/B_06ZLX_.js";import{o as M}from"../chunks/Br5c-oLs.js";var D=c('<iframe title="Challenge Notes" style="width: 100%; border: 1px solid #ccc" class="my-iframe svelte-15fx9b1"></iframe>'),G=c("<p>Loading challenge...</p>"),N=c('<header class="logo-header svelte-15fx9b1"><div class="absolute left-4 top-4 md:left-8 md:top-7"><a href="/" class="logo svelte-15fx9b1"><span class="ctf svelte-15fx9b1">CTF</span> <span class="collab svelte-15fx9b1">Collab</span></a></div></header> <div class="iframe-container svelte-15fx9b1"><!></div>',1);function H(m,d){y(d,!1);const[g,v]=S(),r=()=>j(I,"$page",g);let t=p(""),o=p("");const n=new URLSearchParams(r().url.search).get("code"),_=async()=>{if(!n||!s(t)){console.error("Missing challenge or CTF phrase in URL");return}try{const e=await fetch(`http://localhost:1337/ctfs/${encodeURIComponent(n)}/challenge/${s(t)}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(e.ok){const a=await e.json();h(o,a.hedgedoc_url)}else console.error("Failed to fetch challenge details")}catch(e){console.error("Error occurred",e)}};M(async()=>{s(t)&&_()}),C(()=>r(),()=>{h(t,new URLSearchParams(r().url.search).get("challenge")||"")}),w(),E();var i=N(),f=U($(i),2),u=T(f);{var b=e=>{var a=D();L(()=>k(a,"src",s(o))),l(e,a)},x=e=>{var a=G();l(e,a)};F(u,e=>{s(o)?e(b):e(x,!1)})}P(f),l(m,i),R(),v()}export{H as component};
