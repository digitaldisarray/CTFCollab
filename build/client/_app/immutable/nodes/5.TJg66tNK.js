var Pt=Object.defineProperty;var st=t=>{throw TypeError(t)};var wt=(t,e,n)=>e in t?Pt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ce=(t,e,n)=>wt(t,typeof e!="symbol"?e+"":e,n),nt=(t,e,n)=>e.has(t)||st("Cannot "+n);var Z=(t,e,n)=>(nt(t,e,"read from private field"),n?n.call(t):e.get(t)),W=(t,e,n)=>e.has(t)?st("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);var He=(t,e,n)=>(nt(t,e,"access private method"),n);import{d as j,a as s,t as N,e as V}from"../chunks/CoWB_c7W.js";import{ac as Dt,ab as Tt,a5 as St,G as q,D as d,u as ae,O as m,w as se,U as De,P as C,Q as J,I as Ft,T as Q,aq as Rt,aD as Ke,R as ue,n as M,A as he}from"../chunks/Cgeft74Y.js";import{s as zt}from"../chunks/5z2gxC1j.js";import{c}from"../chunks/BqR-gka9.js";import{i as be,s as Ae,a as fe,b as Le}from"../chunks/tsR4g0rO.js";import{g as mt,u as Nt,w as ot,E as It,S as Mt,h as At,i as Et,j as jt,m as vt,k as qt,l as Ot,n as ee,o as ke,z as xe,s as Gt,a as Vt,C as Je,d as Qe,e as Xe,F as We,b as Ut,c as Bt,f as Ye,R as Ht,T as Kt,P as Lt}from"../chunks/CS6QtriT.js";import{p as K,r as Ee,s as re,l as pt,a as te}from"../chunks/DOLpMf4M.js";import{c as lt,B as pe}from"../chunks/DcQ22hbZ.js";import{b as Jt,I as Pe}from"../chunks/CKQFvGxp.js";import{g as Qt}from"../chunks/CO62fXdW.js";import{I as _t,s as bt,c as Xt,g as Wt,a as Yt,b as Zt,d as er,T as tr,e as rr,f as ar,h as Ze,i as it,F as ct,j as sr,R as nr,k as or,D as lr,G as ir,l as cr,m as ye,n as dr,E as ur,A as hr,r as et,o as dt}from"../chunks/J9LXJcgq.js";import{p as je}from"../chunks/B_06ZLX_.js";import{s as ut,c as ht}from"../chunks/Iw3L7d7c.js";import{w as $t,g as fr}from"../chunks/DIS1lw11.js";import{r as ft,a as tt}from"../chunks/HeQKgpHt.js";import"../chunks/GU8K1UcO.js";import{i as gr}from"../chunks/C-KXs9MO.js";import{e as mr}from"../chunks/DJoc1YTT.js";import{o as Ct}from"../chunks/Br5c-oLs.js";const vr=[];function pr(t,e=!1){return we(t,new Map,"",vr)}function we(t,e,n,u,o=null){if(typeof t=="object"&&t!==null){var p=e.get(t);if(p!==void 0)return p;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Dt(t)){var l=Array(t.length);e.set(t,l),o!==null&&e.set(o,l);for(var h=0;h<t.length;h+=1){var x=t[h];h in t&&(l[h]=we(x,e,n,u))}return l}if(Tt(t)===St){l={},e.set(t,l),o!==null&&e.set(o,l);for(var w in t)l[w]=we(t[w],e,n,u);return l}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return we(t.toJSON(),e,n,u,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}const _r="data-checkbox-root";var Te,Se,Fe,_e,rt,Re,ze;class br{constructor(e,n=null){W(this,_e);Ce(this,"opts");Ce(this,"group");W(this,Te,q(()=>this.group&&this.group.opts.name.current?this.group.opts.name.current:this.opts.name.current));W(this,Se,q(()=>this.group&&this.group.opts.required.current?!0:this.opts.required.current));W(this,Fe,q(()=>this.group&&this.group.opts.disabled.current?!0:this.opts.disabled.current));W(this,Re,q(()=>({checked:this.opts.checked.current,indeterminate:this.opts.indeterminate.current})));W(this,ze,q(()=>({id:this.opts.id.current,role:"checkbox",type:this.opts.type.current,disabled:this.trueDisabled,"aria-checked":At(this.opts.checked.current,this.opts.indeterminate.current),"aria-required":Et(this.trueRequired),"data-disabled":jt(this.trueDisabled),"data-state":Cr(this.opts.checked.current,this.opts.indeterminate.current),[_r]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.group=n,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),Nt(e),ot.pre([()=>{var u;return pr((u=this.group)==null?void 0:u.opts.value.current)},()=>this.opts.value.current],([u,o])=>{!u||!o||(this.opts.checked.current=u.includes(o))}),ot.pre(()=>this.opts.checked.current,u=>{var o,p;this.group&&(u?(o=this.group)==null||o.addValue(this.opts.value.current):(p=this.group)==null||p.removeValue(this.opts.value.current))})}get trueName(){return d(Z(this,Te))}get trueRequired(){return d(Z(this,Se))}get trueDisabled(){return d(Z(this,Fe))}onkeydown(e){this.opts.disabled.current||(e.key===It&&e.preventDefault(),e.key===Mt&&(e.preventDefault(),He(this,_e,rt).call(this)))}onclick(e){this.opts.disabled.current||He(this,_e,rt).call(this)}get snippetProps(){return d(Z(this,Re))}get props(){return d(Z(this,ze))}}Te=new WeakMap,Se=new WeakMap,Fe=new WeakMap,_e=new WeakSet,rt=function(){this.opts.indeterminate.current?(this.opts.indeterminate.current=!1,this.opts.checked.current=!0):this.opts.checked.current=!this.opts.checked.current},Re=new WeakMap,ze=new WeakMap;var Ne,Ie,Me;class $r{constructor(e){Ce(this,"root");W(this,Ne,q(()=>this.root.group?!!(this.root.opts.value.current!==void 0&&this.root.group.opts.value.current.includes(this.root.opts.value.current)):this.root.opts.checked.current));W(this,Ie,q(()=>!!this.root.trueName));W(this,Me,q(()=>({type:"checkbox",checked:this.root.opts.checked.current===!0,disabled:this.root.trueDisabled,required:this.root.trueRequired,name:this.root.trueName,value:this.root.opts.value.current})));this.root=e}get trueChecked(){return d(Z(this,Ne))}get shouldRender(){return d(Z(this,Ie))}get props(){return d(Z(this,Me))}}Ne=new WeakMap,Ie=new WeakMap,Me=new WeakMap;function Cr(t,e){return e?"indeterminate":t?"checked":"unchecked"}const kr=new mt("Checkbox.Group"),kt=new mt("Checkbox.Root");function xr(t,e){return kt.set(new br(t,e))}function yr(){return new $r(kt.get())}var Pr=N("<input>"),wr=N("<input>");function Dr(t,e){ae(e,!0);let n=K(e,"value",15),u=Ee(e,["$$slots","$$events","$$legacy","value"]);const o=q(()=>vt(u,{"aria-hidden":"true",tabindex:-1,style:qt}));var p=j(),l=m(p);{var h=w=>{var b=Pr();ft(b);let y;De(()=>y=tt(b,y,{...d(o),value:n()})),s(w,b)},x=w=>{var b=wr();ft(b);let y;De(()=>y=tt(b,y,{...d(o)})),Jt(b,n),s(w,b)};be(l,w=>{d(o).type==="checkbox"?w(h):w(x,!1)})}s(t,p),se()}function Tr(t,e){ae(e,!1);const n=yr();gr();var u=j(),o=m(u);{var p=l=>{Dr(l,re(()=>n.props))};be(o,l=>{n.shouldRender&&l(p)})}s(t,u),se()}var Sr=N("<button><!></button>"),Fr=N("<!> <!>",1);function Rr(t,e){ae(e,!0);let n=K(e,"checked",15,!1),u=K(e,"ref",15,null),o=K(e,"disabled",3,!1),p=K(e,"required",3,!1),l=K(e,"name",3,void 0),h=K(e,"value",3,"on"),x=K(e,"id",19,Ot),w=K(e,"indeterminate",15,!1),b=K(e,"type",3,"button"),y=Ee(e,["$$slots","$$events","$$legacy","checked","ref","onCheckedChange","children","disabled","required","name","value","id","indeterminate","onIndeterminateChange","child","type"]);const F=kr.getOr(null);F&&h()&&(F.opts.value.current.includes(h())?n(!0):n(!1));const R=xr({checked:ee.with(()=>n(),a=>{var r;n(a),(r=e.onCheckedChange)==null||r.call(e,a)}),disabled:ee.with(()=>o()??!1),required:ee.with(()=>p()),name:ee.with(()=>l()),value:ee.with(()=>h()),id:ee.with(()=>x()),ref:ee.with(()=>u(),a=>u(a)),indeterminate:ee.with(()=>w(),a=>{var r;w(a),(r=e.onIndeterminateChange)==null||r.call(e,a)}),type:ee.with(()=>b())},F),A=q(()=>vt({...y},R.props));var L=Fr(),v=m(L);{var $=a=>{var r=j(),i=m(r),D=Rt(()=>({props:d(A),...R.snippetProps}));ut(i,()=>e.child,()=>d(D)),s(a,r)},P=a=>{var r=Sr();let i;var D=J(r);ut(D,()=>e.children??Ft,()=>R.snippetProps),Q(r),De(()=>i=tt(r,i,{...d(A)})),s(a,r)};be(v,a=>{e.child?a($):a(P,!1)})}var G=C(v,2);Tr(G,{}),s(t,L),se()}function zr(t,e){const n=pt(e,["children","$$slots","$$events","$$legacy"]);_t(t,re({name:"check"},()=>n,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(o,p)=>{var l=j(),h=m(l);bt(h,e,"default",{}),s(o,l)},$$slots:{default:!0}}))}function Nr(t,e){const n=pt(e,["children","$$slots","$$events","$$legacy"]);_t(t,re({name:"minus"},()=>n,{iconNode:[["path",{d:"M5 12h14"}]],children:(o,p)=>{var l=j(),h=m(l);bt(h,e,"default",{}),s(o,l)},$$slots:{default:!0}}))}var Ir=N('<div class="flex size-4 items-center justify-center text-current"><!></div>');function Mr(t,e){ae(e,!0);let n=K(e,"ref",15,null),u=K(e,"checked",15,!1),o=K(e,"indeterminate",15,!1),p=Ee(e,["$$slots","$$events","$$legacy","ref","checked","indeterminate","class"]);var l=j(),h=m(l);const x=q(()=>lt("border-primary ring-offset-background focus-visible:ring-ring data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground peer box-content size-4 shrink-0 rounded-sm border focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[disabled=true]:cursor-not-allowed data-[disabled=true]:opacity-50",e.class));c(h,()=>Rr,(w,b)=>{b(w,re({get class(){return d(x)}},()=>p,{get ref(){return n()},set ref(F){n(F)},get checked(){return u()},set checked(F){u(F)},get indeterminate(){return o()},set indeterminate(F){o(F)},children:(F,R)=>{let A=()=>R==null?void 0:R().checked,L=()=>R==null?void 0:R().indeterminate;var v=Ir(),$=J(v);{var P=a=>{Nr(a,{class:"size-3.5"})},G=a=>{const r=q(()=>lt("size-3.5",!A()&&"text-transparent"));zr(a,{get class(){return d(r)}})};be($,a=>{L()?a(P):a(G,!1)})}Q(v),s(F,v)},$$slots:{default:!0}}))}),s(t,l),se()}var Ar=N("<!> <!>",1),Er=N('<div><div class="flex items-center py-4"><!></div> <div class="rounded-md border"><!></div> <div class="flex items-center justify-end space-x-2 py-4"><!> <!></div></div>');function jr(t,e){ae(e,!0);const[n,u]=Ae(),o=()=>fe(je,"$page",n);let p=Ke(te({pageIndex:0,pageSize:10})),l=Ke(te([])),h=Ke(te([]));const x=Xt({get data(){return e.data},columns:e.columns,getCoreRowModel:Wt(),getPaginationRowModel:Yt(),getSortedRowModel:Zt(),getFilteredRowModel:er(),onSortingChange:r=>{typeof r=="function"?ue(l,te(r(d(l)))):ue(l,te(r))},onPaginationChange:r=>{typeof r=="function"?ue(p,te(r(d(p)))):ue(p,te(r))},onColumnFiltersChange:r=>{typeof r=="function"?ue(h,te(r(d(h)))):ue(h,te(r))},state:{get pagination(){return d(p)},get sorting(){return d(l)},get columnFilters(){return d(h)}}}),w=(r,i)=>{if(console.log("Clicked row:",i.original),D(i.original)){let f=i.original;console.log("Challenge ID:",f.id);const _=new URLSearchParams(o().url.search).get("code");if(console.log("CTF Code:",_),!_){console.error("CTF code not found in URL");return}if(f.id.trim()){const k=`/pages/event-room/challenge?code=${encodeURIComponent(_)}&challenge=${f.id}`;console.log("Navigating to:",k),Qt(k)}}function D(f){return f.id!==void 0}};var b=Er(),y=J(b),F=J(y);const R=q(()=>{var r;return((r=x.getColumn("name"))==null?void 0:r.getFilterValue())??""});Pe(F,{placeholder:"Filter challenge by name...",get value(){return d(R)},onchange:r=>{var i;(i=x.getColumn("name"))==null||i.setFilterValue(r.currentTarget.value)},oninput:r=>{var i;(i=x.getColumn("name"))==null||i.setFilterValue(r.currentTarget.value)},class:"max-w-sm"}),Q(y);var A=C(y,2),L=J(A);c(L,()=>tr,(r,i)=>{i(r,{children:(D,f)=>{var _=Ar(),k=m(_);c(k,()=>rr,(g,O)=>{O(g,{children:(S,U)=>{var H=j(),z=m(H);ke(z,17,()=>x.getHeaderGroups(),I=>I.id,(I,E)=>{var X=j(),B=m(X);c(B,()=>Ze,(ge,me)=>{me(ge,{children:($e,ne)=>{var ve=j(),ie=m(ve);ke(ie,17,()=>d(E).headers,oe=>oe.id,(oe,Y)=>{var ce=j(),de=m(ce);c(de,()=>sr,(qe,Oe)=>{Oe(qe,{children:(Ge,at)=>{var Ve=j(),Ue=m(Ve);{var xt=Be=>{const yt=q(()=>d(Y).getContext());ct(Be,{get content(){return d(Y).column.columnDef.header},get context(){return d(yt)}})};be(Ue,Be=>{d(Y).isPlaceholder||Be(xt)})}s(Ge,Ve)},$$slots:{default:!0}})}),s(oe,ce)}),s($e,ve)},$$slots:{default:!0}})}),s(I,X)}),s(S,H)},$$slots:{default:!0}})});var T=C(k,2);c(T,()=>ar,(g,O)=>{O(g,{children:(S,U)=>{var H=j(),z=m(H);ke(z,17,()=>x.getRowModel().rows,I=>I.id,(I,E)=>{var X=j(),B=m(X);const ge=q(()=>d(E).getIsSelected()&&"selected");c(B,()=>Ze,(me,$e)=>{$e(me,{get"data-state"(){return d(ge)},onclick:ne=>w(ne,d(E)),children:(ne,ve)=>{var ie=j(),oe=m(ie);ke(oe,17,()=>d(E).getVisibleCells(),Y=>Y.id,(Y,ce)=>{var de=j(),qe=m(de);c(qe,()=>it,(Oe,Ge)=>{Ge(Oe,{children:(at,Ve)=>{const Ue=q(()=>d(ce).getContext());ct(at,{get content(){return d(ce).column.columnDef.cell},get context(){return d(Ue)}})},$$slots:{default:!0}})}),s(Y,de)}),s(ne,ie)},$$slots:{default:!0}})}),s(I,X)},I=>{var E=j(),X=m(E);c(X,()=>Ze,(B,ge)=>{ge(B,{children:(me,$e)=>{var ne=j(),ve=m(ne);c(ve,()=>it,(ie,oe)=>{oe(ie,{get colspan(){return e.columns.length},class:"h-24 text-center",children:(Y,ce)=>{M();var de=V("No results.");s(Y,de)},$$slots:{default:!0}})}),s(me,ne)},$$slots:{default:!0}})}),s(I,E)}),s(S,H)},$$slots:{default:!0}})}),s(D,_)},$$slots:{default:!0}})}),Q(A);var v=C(A,2),$=J(v);const P=q(()=>!x.getCanPreviousPage());pe($,{variant:"outline",size:"sm",onclick:()=>x.previousPage(),get disabled(){return d(P)},children:(r,i)=>{M();var D=V("Previous");s(r,D)},$$slots:{default:!0}});var G=C($,2);const a=q(()=>!x.getCanNextPage());pe(G,{variant:"outline",size:"sm",onclick:()=>x.nextPage(),get disabled(){return d(a)},children:(r,i)=>{M();var D=V("Next");s(r,D)},$$slots:{default:!0}}),Q(v),Q(b),s(t,b),se(),u()}var qr=N('<span class="sr-only">Open menu</span> <!>',1),Or=N("<!> <!>",1),Gr=N("<!> <!> <!> <!> <!>",1),Vr=N("<!> <!>",1);function Ur(t,e){ae(e,!0);const[n,u]=Ae(),o=()=>fe(je,"$page",n),p=new URLSearchParams(o().url.search).get("code"),l=async()=>{if(confirm("Are you sure you want to delete this Challenge? This action is irreversible."))try{const b=await fetch(`http://localhost:1337/ctfs/${p}/challenges/${e.id}`,{method:"DELETE",credentials:"include"});b.ok?(le.update(y=>y.filter(F=>F.id!==e.id)),alert("Challenge deleted successfully")):(console.error("Delete request failed:",b),alert("Failed to delete the Challenge."))}catch(b){console.error("Error deleting Challenge:",b),alert("An error occurred while deleting the Challenge.")}};var h=j(),x=m(h);c(x,()=>nr,(w,b)=>{b(w,{children:(y,F)=>{var R=Vr(),A=m(R);c(A,()=>or,(v,$)=>{$(v,{child:(G,a)=>{pe(G,re(()=>a==null?void 0:a().props,{variant:"ghost",size:"icon",class:"relative size-8 p-0",children:(i,D)=>{var f=qr(),_=C(m(f),2);ur(_,{}),s(i,f)},$$slots:{default:!0}}))},$$slots:{child:!0}})});var L=C(A,2);c(L,()=>lr,(v,$)=>{$(v,{children:(P,G)=>{var a=Gr(),r=m(a);c(r,()=>ir,(k,T)=>{T(k,{children:(g,O)=>{var S=Or(),U=m(S);c(U,()=>cr,(z,I)=>{I(z,{children:(E,X)=>{M();var B=V("Actions");s(E,B)},$$slots:{default:!0}})});var H=C(U,2);c(H,()=>ye,(z,I)=>{I(z,{onclick:()=>navigator.clipboard.writeText(e.id),children:(E,X)=>{M();var B=V("Copy Challenge ID");s(E,B)},$$slots:{default:!0}})}),s(g,S)},$$slots:{default:!0}})});var i=C(r,2);c(i,()=>dr,(k,T)=>{T(k,{})});var D=C(i,2);c(D,()=>ye,(k,T)=>{T(k,{children:(g,O)=>{M();var S=V("View Active Members");s(g,S)},$$slots:{default:!0}})});var f=C(D,2);c(f,()=>ye,(k,T)=>{T(k,{onclick:()=>navigator.clipboard.writeText(e.description),children:(g,O)=>{M();var S=V("View Challenge details");s(g,S)},$$slots:{default:!0}})});var _=C(f,2);c(_,()=>ye,(k,T)=>{T(k,{onclick:l,children:(g,O)=>{M();var S=V("Delete Challenge");s(g,S)},$$slots:{default:!0}})}),s(P,a)},$$slots:{default:!0}})}),s(y,R)},$$slots:{default:!0}})}),s(t,h),se(),u()}var Br=N("Name <!>",1);function Hr(t,e){let n=K(e,"variant",3,"ghost"),u=Ee(e,["$$slots","$$events","$$legacy","variant"]);pe(t,re({get variant(){return n()}},()=>u,{children:(o,p)=>{M();var l=Br(),h=C(m(l));hr(h,{class:"ml-2"}),s(o,l)},$$slots:{default:!0}}))}const le=$t([]),gt=$t(),Kr=[{accessorKey:"status",header:"Status",cell:({row:t})=>et(Mr,{checked:t.getIsSelected(),onCheckedChange:e=>t.toggleSelected(!!e),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:({column:t})=>et(Hr,{onclick:()=>t.toggleSorting(t.getIsSorted()==="asc")})},{accessorKey:"active_members",header:()=>{const t=ht(()=>({render:()=>'<div class="text-right">Active Members</div>'}));return dt(t,"")},cell:({row:t})=>{const e=new Intl.NumberFormat("en-US",{style:"decimal"}),n=ht(u=>{const o=u();return{render:()=>`<div class="text-right font-medium">${o}</div>`}});return dt(n,e.format(parseFloat(t.getValue("active_members"))))}},{id:"actions",cell:({row:t})=>et(Ur,{id:t.original.id,description:t.original.description})}],Lr=xe.object({challengeName:xe.string().min(2).max(50),challengeDetails:xe.string().min(0).max(50),challengeFlag:xe.string().min(0).max(50)});var Jr=N("<!> <!>",1),Qr=N("<!> <!> <!>",1),Xr=N("<!> <!>",1),Wr=N("<!> <!> <!>",1),Yr=N("<!> <!>",1),Zr=N("<!> <!> <!>",1),ea=N('<form method="POST"><!> <!> <!> <!></form>');function ta(t,e){ae(e,!0);const[n,u]=Ae(),o=()=>fe(l,"$formData",n),p=Gt(e.data.form,{validators:Vt(Lr)}),{form:l,enhance:h}=p;let x="";Ct(()=>{x=fr(je).url.searchParams.get("code")||"",w()});const w=async()=>{try{le.set([]);const v=await fetch(`http://localhost:1337/ctfs/${x}/challenges`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(v.ok){let $=await v.json();Array.isArray($)&&$.length>0&&le.set($.map(P=>({name:P.challenge_name,active_members:0,status:"pending",id:P.challenge_id.toString(),hedgedoc_url:P.hedgedoc_url,description:P.challenge_description})))}else console.error("Failed to fetch challenges")}catch(v){console.error("Error occured",v)}},b=async v=>{v.preventDefault();const $=o().challengeName;if(!$)return;const P=o().challengeDetails,G=o().challengeFlag;try{const a=await fetch(`http://localhost:1337/ctfs/${x}/challenges`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:$,description:P,flag:G})});if(a.ok){const r=await a.json();let i={id:r.id,hedgedoc_url:r.hedgedoc_url,active_members:0,status:"pending",name:$,description:r.description};le.update(D=>[...D,i]),await w()}else{const r=await a.json();console.error("Failed to submit form:",r)}}catch(a){console.error("Unable to submit challenge",a)}};var y=ea(),F=J(y);c(F,()=>We,(v,$)=>{$(v,{form:p,name:"challengeName",children:(P,G)=>{var a=Qr(),r=m(a);c(r,()=>Je,(f,_)=>{_(f,{children:(T,g)=>{let O=()=>g==null?void 0:g().props;var S=Jr(),U=m(S);c(U,()=>Ye,(z,I)=>{I(z,{children:(E,X)=>{M();var B=V("Challenge Name");s(E,B)},$$slots:{default:!0}})});var H=C(U,2);Pe(H,re(O,{get value(){return o().challengeName},set value(z){Le(l,he(o).challengeName=z,he(o))}})),s(T,S)},$$slots:{default:!0}})});var i=C(r,2);c(i,()=>Qe,(f,_)=>{_(f,{children:(k,T)=>{M();var g=V("This sets the Challenge display name.");s(k,g)},$$slots:{default:!0}})});var D=C(i,2);c(D,()=>Xe,(f,_)=>{_(f,{})}),s(P,a)},$$slots:{default:!0}})});var R=C(F,2);c(R,()=>We,(v,$)=>{$(v,{form:p,name:"challengeDetails",children:(P,G)=>{var a=Wr(),r=m(a);c(r,()=>Je,(f,_)=>{_(f,{children:(T,g)=>{let O=()=>g==null?void 0:g().props;var S=Xr(),U=m(S);c(U,()=>Ye,(z,I)=>{I(z,{children:(E,X)=>{M();var B=V("(Optional) Challenge Details");s(E,B)},$$slots:{default:!0}})});var H=C(U,2);Pe(H,re(O,{get value(){return o().challengeDetails},set value(z){Le(l,he(o).challengeDetails=z,he(o))}})),s(T,S)},$$slots:{default:!0}})});var i=C(r,2);c(i,()=>Qe,(f,_)=>{_(f,{children:(k,T)=>{M();var g=V("Describe the details of this challenge");s(k,g)},$$slots:{default:!0}})});var D=C(i,2);c(D,()=>Xe,(f,_)=>{_(f,{})}),s(P,a)},$$slots:{default:!0}})});var A=C(R,2);c(A,()=>We,(v,$)=>{$(v,{form:p,name:"challengeFlag",children:(P,G)=>{var a=Zr(),r=m(a);c(r,()=>Je,(f,_)=>{_(f,{children:(T,g)=>{let O=()=>g==null?void 0:g().props;var S=Yr(),U=m(S);c(U,()=>Ye,(z,I)=>{I(z,{children:(E,X)=>{M();var B=V("(Optional) Challenge Flag");s(E,B)},$$slots:{default:!0}})});var H=C(U,2);Pe(H,re(O,{get value(){return o().challengeFlag},set value(z){Le(l,he(o).challengeFlag=z,he(o))}})),s(T,S)},$$slots:{default:!0}})});var i=C(r,2);c(i,()=>Qe,(f,_)=>{_(f,{children:(k,T)=>{M();var g=V("The flag for this challenge");s(k,g)},$$slots:{default:!0}})});var D=C(i,2);c(D,()=>Xe,(f,_)=>{_(f,{})}),s(P,a)},$$slots:{default:!0}})});var L=C(A,2);c(L,()=>Ut,(v,$)=>{$(v,{children:(P,G)=>{M();var a=V("Submit");s(P,a)},$$slots:{default:!0}})}),Q(y),Bt(y,v=>h==null?void 0:h(v)),mr("submit",y,b),s(t,y),se(),u()}var ra=N("<!> <!>",1),aa=N('<header class="logo-header svelte-1tu79z4"><div class="absolute left-4 top-4 md:left-8 md:top-7"><a href="/" class="logo svelte-1tu79z4"><span class="ctf svelte-1tu79z4">CTF</span> <span class="collab svelte-1tu79z4">Collab</span></a></div></header> <div class="page-container svelte-1tu79z4"><div class="container svelte-1tu79z4"><div class="horizontal-container svelte-1tu79z4"><header class="svelte-1tu79z4"><h1 class="chal-name svelte-1tu79z4"> </h1> <p class="svelte-1tu79z4">Manage your Challenge rooms.</p></header> <div class="button-container svelte-1tu79z4"><!></div></div> <!></div> <div class="container svelte-1tu79z4"><header class="svelte-1tu79z4"><h1 class="chal-name svelte-1tu79z4">Team Members</h1> <p class="svelte-1tu79z4">Invite team members to collaborate on challenges.</p></header></div></div>',1);function ya(t,e){ae(e,!0);const[n,u]=Ae(),o=()=>fe(je,"$page",n),p=()=>fe(gt,"$currentCTF",n),l=()=>fe(le,"$challenges",n);let h="";Ct(()=>{h=o().url.searchParams.get("code")||"",x(),w()});const x=async()=>{try{const a=await fetch(`http://localhost:1337/ctfs/${h}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(a.ok){let r=await a.json();gt.set({ctf_id:r.id,ctf_author_id:r.author_id,ctf_description:r.description,ctf_name:r.name,start_date:r.start_date,end_date:r.end_date,phrase:r.phrase})}}catch{console.error("Error fetching current CTF")}},w=async()=>{try{le.set([]);const a=await fetch(`http://localhost:1337/ctfs/${h}/challenges`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(a.ok){let r=await a.json();Array.isArray(r)&&r.length>0&&le.set(r.map(i=>({name:i.challenge_name,active_members:0,status:"pending",id:i.challenge_id.toString(),hedgedoc_url:i.hedgedoc_url,description:i.challenge_description})))}else console.error("Failed to fetch challenges")}catch(a){console.error("Error occured",a)}};var b=aa(),y=C(m(b),2),F=J(y),R=J(F),A=J(R),L=J(A),v=J(L,!0);Q(L),M(2),Q(A);var $=C(A,2),P=J($);c(P,()=>Ht,(a,r)=>{r(a,{children:(i,D)=>{var f=ra(),_=m(f);c(_,()=>Kt,(T,g)=>{g(T,{children:(O,S)=>{pe(O,{class:"new-ctf-button",children:(U,H)=>{M();var z=V("Add Challenge");s(U,z)},$$slots:{default:!0}})},$$slots:{default:!0}})});var k=C(_,2);c(k,()=>Lt,(T,g)=>{g(T,{children:(O,S)=>{ta(O,{get data(){return e.data}})},$$slots:{default:!0}})}),s(i,f)},$$slots:{default:!0}})}),Q($),Q(R);var G=C(R,2);jr(G,{get data(){return l()},columns:Kr}),Q(F),M(2),Q(y),De(()=>{var a;return zt(v,(a=p())==null?void 0:a.ctf_name)}),s(t,b),se(),u()}export{ya as component};
